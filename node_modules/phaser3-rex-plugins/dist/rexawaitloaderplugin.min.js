var e,t;e=void 0,t=function(){const e=Phaser.Loader.FILE_POPULATED,t=Phaser.Utils.String.UUID;class o extends Phaser.Loader.File{constructor(e,o){o.hasOwnProperty("type")||(o.type="await"),o.hasOwnProperty("url")||(o.url=""),o.hasOwnProperty("key")||(o.key=t()),super(e,o)}load(){if(this.state===e)this.loader.nextFile(this,!0);else{var t=this.config,o=t.callback,s=t.scope;if(o){var i=this,n=!1,r=function(){n||(i.onLoad(),n=!0)},a=function(){n||(i.onError(),n=!0)};s?o.call(s,r,a):o(r,a)}else this.onLoad()}}onLoad(){this.loader.nextFile(this,!0)}onError(){this.loader.nextFile(this,!1)}}const s=Phaser.Utils.Objects.IsPlainObject,i=function(e,t){var i;return(i=e)&&"function"==typeof i?t={config:{callback:e,scope:t}}:s(e)?(t=e).hasOwnProperty("config")||(t={config:t}):t={key:e,config:t},this.addFile(new o(this,t)),this};class n extends Phaser.Plugins.BasePlugin{constructor(e){super(e),e.registerFileType("rexAwait",i)}addToScene(e){e.sys.load.rexAwait=i}}return n},"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).rexawaitloaderplugin=t();
