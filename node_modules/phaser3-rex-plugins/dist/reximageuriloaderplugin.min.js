var e,t;e=void 0,t=function(){const e=Phaser.Loader.FILE_POPULATED,t=Phaser.Utils.String.UUID;class r extends Phaser.Loader.File{constructor(e,r){r.hasOwnProperty("type")||(r.type="await"),r.hasOwnProperty("url")||(r.url=""),r.hasOwnProperty("key")||(r.key=t()),super(e,r)}load(){if(this.state===e)this.loader.nextFile(this,!0);else{var t=this.config,r=t.callback,n=t.scope;if(r){var o=this,a=!1,i=function(){a||(o.onLoad(),a=!0)},s=function(){a||(o.onError(),a=!0)};n?r.call(n,i,s):r(i,s)}else this.onLoad()}}onLoad(){this.loader.nextFile(this,!0)}onError(){this.loader.nextFile(this,!1)}}const n=function(e,t,r){return this.addFile(o(this,e,t,r)),this};var o=function(e,t,n,o){return new r(e,{type:"imageuri",config:{key:t,callback:function(r,a){var i=new Image;i.onload=function(){void 0===o?e.textureManager.addImage(t,i):e.textureManager.addSpriteSheet(t,i,o),r()},i.src=n}}})};class a extends Phaser.Plugins.BasePlugin{constructor(e){super(e),e.registerFileType("rexImageURI",n)}addToScene(e){e.sys.load.rexImageURI=n}}return a},"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).reximageuriloaderplugin=t();
